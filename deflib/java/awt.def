subcode: gui_frame
    $import java.awt.*
    $import java.awt.event.*
    $extends Frame
    # $implements ActionListener

    $list _gui_init, _gui_main

fncode: _gui_init
    $skip_autolist
    $call main2
    $call default_window_events

fncode: _gui_main(main)
    $skip_autolist
    app = new $(_pagename)()

# -----------
subcode: _autoload
    $register_prefix(lbl) Label
    $register_prefix(btn) Button
    $register_prefix(txt) TextField


subcode: default_window_events
    $implements WindowListener
    addWindowListener(this)

    $function windowClosing(WindowEvent evt)
        DUMP_STUB _exit
        System.exit(0)
    $(for:Opened,Closed,Iconified,Deiconified,Activated,Deactivated)
        $function window$1(WindowEvent evt)
            NOOP

subcode: animate(millisec)
    $import javax.swing.Timer
    $implements ActionListener
    $private Timer timer

    timer=new Timer($(millisec), this)
    timer.setInitialDelay(2000)
    timer.setActionCommand("timer")
    timer.start()
    $(block:_actionPerformed)
        $if s_cmd == "timer"
            BLOCK
            repaint()

    $list actionPerformed

fncode: actionPerformed(ActionEvent evt)
    $skip_autolist
    s_cmd = evt.getActionCommand()
    DUMP_STUB _actionPerformed
    $call @on_action
